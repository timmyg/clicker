<ion-list>
  <ion-row *ngIf="(isLoading$ | async)" margin-vertical>
    <ion-spinner name="crescent" class="center"></ion-spinner>
  </ion-row>
  <ion-card
    *ngFor="let location of (locations$ | async)"
    [ngClass]="{ inactive: !location.active || !location.connected }"
    (click)="location.active && location.connected && onLocationClick(location)"
  >
    <ion-card-header>
      <ion-card-subtitle>
        <span>{{ location.neighborhood }} <span *ngIf="!location.active || !location.connected">(inactive)</span></span>
        <ion-icon *ngIf="!location.connected" name="wifi" class="disconnected"></ion-icon>
        <span float-right>
          <span *ngIf="location.distance > 0.1; else near"> {{ location.distance }} miles </span>
          <ng-template #near> Near </ng-template>
        </span>
      </ion-card-subtitle>
    </ion-card-header>
    <ion-card-content no-padding-top>
      <img [src]="location.img" class="logo" />
      <h1>{{ location.name }}</h1>
    </ion-card-content>
  </ion-card>
</ion-list>
