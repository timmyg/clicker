<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button class="show-back-button" *ngIf="showBack() && !searchMode" (click)="goBack()"></ion-back-button>
    </ion-buttons>
    <ion-buttons *ngIf="!searchMode" slot="end" padding-end> <app-coins></app-coins> </ion-buttons>
    <ion-title *ngIf="!searchMode"> {{ title }} </ion-title>
    <ion-searchbar
      #searchbar
      *ngIf="searchMode"
      (ionCancel)="closeSearch()"
      (ionChange)="onSearch($event)"
      showCancelButton
      animated
    ></ion-searchbar>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)" [pullMax]="300" [disabled]="disableRefresher()">
    <ion-refresher-content pullingIcon="arrow-down" pullingText="Pull to refresh" refreshingSpinner="crescent">
    </ion-refresher-content>
  </ion-refresher>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed" *ngIf="isSearchablePage() && !searchMode">
    <ion-fab-button color="primary" (click)="toggleSearch()"> <ion-icon name="search"></ion-icon> </ion-fab-button>
  </ion-fab>
  <ion-row class="breadcrumbs ion-text-center">
    <ion-col class="step" [ngClass]="{ active: isStepActive('location'), complete: isStepComplete('location') }">
      <ion-icon
        *ngIf="!isStepComplete('location')"
        name="radio-button-off"
        [color]="isStepActive('location') ? 'primary' : 'medium'"
      ></ion-icon>
      <ion-icon *ngIf="isStepComplete('location')" name="checkmark-circle" color="success"></ion-icon>
      <div class="text">Location</div>
    </ion-col>
    <ion-col class="step" [ngClass]="{ active: isStepActive('channel'), complete: isStepComplete('channel') }">
      <ion-icon
        *ngIf="!isStepComplete('channel')"
        name="radio-button-off"
        [color]="isStepActive('channel') ? 'primary' : 'medium'"
      ></ion-icon>
      <ion-icon *ngIf="isStepComplete('channel')" name="checkmark-circle" color="success"></ion-icon>
      <div class="text">Channel</div>
    </ion-col>
    <ion-col class="step" [ngClass]="{ active: isStepActive('tv'), complete: isStepComplete('tv') }">
      <ion-icon
        *ngIf="!isStepComplete('tv')"
        name="radio-button-off"
        [color]="isStepActive('tv') ? 'primary' : 'medium'"
      ></ion-icon>
      <ion-icon *ngIf="isStepComplete('tv')" name="checkmark-circle" color="success"></ion-icon>
      <div class="text">TV</div>
    </ion-col>
    <ion-col class="step" [ngClass]="{ active: isStepActive('confirm'), complete: isStepComplete('confirm') }">
      <ion-icon
        *ngIf="!isStepComplete('confirm')"
        name="radio-button-off"
        [color]="isStepActive('confirm') ? 'primary' : 'medium'"
      ></ion-icon>
      <ion-icon *ngIf="isStepComplete('confirm')" name="checkmark-circle" color="success"></ion-icon>
      <div class="text">Confirm</div>
    </ion-col>
  </ion-row>
  <ion-row> <ion-progress-bar color="primary" [value]="percentageComplete"></ion-progress-bar> </ion-row>
  <router-outlet></router-outlet>
</ion-content>
